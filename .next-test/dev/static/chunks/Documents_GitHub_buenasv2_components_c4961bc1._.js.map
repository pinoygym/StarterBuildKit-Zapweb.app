{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HI/Documents/GitHub/buenasv2/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst alertVariants = cva(\r\n  \"relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-background text-foreground\",\r\n        destructive:\r\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nconst Alert = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\r\n>(({ className, variant, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    role=\"alert\"\r\n    className={cn(alertVariants({ variant }), className)}\r\n    {...props}\r\n  />\r\n))\r\nAlert.displayName = \"Alert\"\r\n\r\nconst AlertTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h5\r\n    ref={ref}\r\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertTitle.displayName = \"AlertTitle\"\r\n\r\nconst AlertDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\r\n    {...props}\r\n  />\r\n))\r\nAlertDescription.displayName = \"AlertDescription\"\r\n\r\nexport { Alert, AlertTitle, AlertDescription }\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,6MAAG,EACvB,2KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,8MAAgB,MAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,gOAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,wJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,8MAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gOAAC;QACC,KAAK;QACL,WAAW,IAAA,wJAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,8MAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,gOAAC;QACC,KAAK;QACL,WAAW,IAAA,wJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HI/Documents/GitHub/buenasv2/components/dashboard/branch-comparison-chart.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { Alert, AlertDescription } from '@/components/ui/alert';\r\nimport { AlertCircle, TrendingUp, Building2 } from 'lucide-react';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\n\r\ninterface BranchData {\r\n  branchId: string;\r\n  branchName: string;\r\n  revenue: string;\r\n  expenses: string;\r\n  profit: string;\r\n  inventoryValue: string;\r\n}\r\n\r\nexport function BranchComparisonChart() {\r\n  const [data, setData] = useState<BranchData[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchBranchComparison();\r\n  }, []);\r\n\r\n  const fetchBranchComparison = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch('/api/dashboard/branch-comparison');\r\n      const result = await response.json();\r\n\r\n      if (result.success) {\r\n        setData(result.data);\r\n      } else {\r\n        setError(result.error || 'Failed to load branch comparison');\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to load branch comparison');\r\n      console.error('Error fetching branch comparison:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (value: string | number) => {\r\n    const numValue = typeof value === 'string' ? parseFloat(value) : value;\r\n    return new Intl.NumberFormat('en-PH', {\r\n      style: 'currency',\r\n      currency: 'PHP',\r\n      minimumFractionDigits: 0,\r\n      maximumFractionDigits: 0,\r\n    }).format(numValue);\r\n  };\r\n\r\n  const chartData = data.map((branch) => ({\r\n    name: branch.branchName,\r\n    Revenue: parseFloat(branch.revenue),\r\n    Expenses: parseFloat(branch.expenses),\r\n    Profit: parseFloat(branch.profit),\r\n  }));\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <Skeleton className=\"h-6 w-48\" />\r\n          <Skeleton className=\"h-4 w-64\" />\r\n        </CardHeader>\r\n        <CardContent>\r\n          <Skeleton className=\"h-80 w-full\" />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Building2 className=\"h-5 w-5\" />\r\n            Branch Performance Comparison\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <Alert variant=\"destructive\">\r\n            <AlertCircle className=\"h-4 w-4\" />\r\n            <AlertDescription>{error}</AlertDescription>\r\n          </Alert>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (data.length === 0) {\r\n    return (\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Building2 className=\"h-5 w-5\" />\r\n            Branch Performance Comparison\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"text-center py-8 text-muted-foreground\">\r\n            No branch data available\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <Building2 className=\"h-5 w-5\" />\r\n          Branch Performance Comparison\r\n        </CardTitle>\r\n        <CardDescription>\r\n          Revenue, expenses, and profit comparison across all branches\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <ResponsiveContainer width=\"100%\" height={350}>\r\n          <BarChart data={chartData} margin={{ top: 20, right: 30, left: 20, bottom: 5 }}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" className=\"stroke-muted\" />\r\n            <XAxis\r\n              dataKey=\"name\"\r\n              className=\"text-sm\"\r\n              tick={{ fill: 'currentColor' }}\r\n            />\r\n            <YAxis\r\n              className=\"text-sm\"\r\n              tick={{ fill: 'currentColor' }}\r\n              tickFormatter={(value) => `â‚±${(value / 1000).toFixed(0)}k`}\r\n            />\r\n            <Tooltip\r\n              contentStyle={{\r\n                backgroundColor: 'hsl(var(--background))',\r\n                border: '1px solid hsl(var(--border))',\r\n                borderRadius: '6px',\r\n              }}\r\n              formatter={(value: number) => formatCurrency(value)}\r\n            />\r\n            <Legend />\r\n            <Bar dataKey=\"Revenue\" fill=\"#10b981\" radius={[4, 4, 0, 0]} />\r\n            <Bar dataKey=\"Expenses\" fill=\"#ef4444\" radius={[4, 4, 0, 0]} />\r\n            <Bar dataKey=\"Profit\" fill=\"#3b82f6\" radius={[4, 4, 0, 0]} />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n\r\n        {/* Summary Table */}\r\n        <div className=\"mt-6 border rounded-lg overflow-hidden\">\r\n          <table className=\"w-full\">\r\n            <thead className=\"bg-muted\">\r\n              <tr>\r\n                <th className=\"text-left p-3 text-sm font-medium\">Branch</th>\r\n                <th className=\"text-right p-3 text-sm font-medium\">Revenue</th>\r\n                <th className=\"text-right p-3 text-sm font-medium\">Expenses</th>\r\n                <th className=\"text-right p-3 text-sm font-medium\">Profit</th>\r\n                <th className=\"text-right p-3 text-sm font-medium\">Inventory</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y\">\r\n              {data.map((branch) => (\r\n                <tr key={branch.branchId} className=\"hover:bg-muted/50\">\r\n                  <td className=\"p-3 font-medium\">{branch.branchName}</td>\r\n                  <td className=\"p-3 text-right text-green-600 dark:text-green-400 font-medium\">\r\n                    {formatCurrency(branch.revenue)}\r\n                  </td>\r\n                  <td className=\"p-3 text-right text-red-600 dark:text-red-400 font-medium\">\r\n                    {formatCurrency(branch.expenses)}\r\n                  </td>\r\n                  <td className=\"p-3 text-right text-blue-600 dark:text-blue-400 font-medium\">\r\n                    {formatCurrency(branch.profit)}\r\n                  </td>\r\n                  <td className=\"p-3 text-right text-muted-foreground\">\r\n                    {formatCurrency(branch.inventoryValue)}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}