
[1m[46m RUN [49m[22m [36mv4.0.15 [39m[90mC:/Users/cyber/Documents/GitHub/buenasv2[39m

[90mstdout[2m | tests/unit/services/ar.service.test.ts
[22m[39m[dotenv@17.2.3] injecting env (20) from .env.local -- tip: ≡ƒùé∩╕Å backup and recover secrets: https://dotenvx.com/ops
[dotenv@17.2.3] injecting env (0) from .env -- tip: ΓÜÖ∩╕Å  specify custom .env file path with { path: '/custom/path/.env' }
Setup: DATABASE_URL is defined

 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mcreateAR[2m > [22mshould create AR record with correct initial values[32m 9[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordPayment[2m > [22mshould record full payment and update status to paid[32m 2[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordPayment[2m > [22mshould record partial payment and update status to partial[32m 1[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordPayment[2m > [22mshould reject payment exceeding balance[32m 3[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordPayment[2m > [22mshould reject zero or negative payment[32m 1[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordPayment[2m > [22mshould throw error if AR record not found[32m 1[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mgetAgingReport[2m > [22mshould calculate aging buckets correctly[32m 2[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mgetAgingReport[2m > [22mshould handle multiple invoices for same customer[32m 0[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mgetAgingReport[2m > [22mshould handle empty records[32m 1[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordBatchPayment[2m > [22mshould record batch payment across multiple AR records[32m 1[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordBatchPayment[2m > [22mshould reject batch payment with mismatched total[32m 0[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordBatchPayment[2m > [22mshould reject batch payment with empty allocations[32m 1[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordBatchPayment[2m > [22mshould handle batch payment with withholding tax and discounts[32m 1[2mms[22m[39m
 [32mΓ£ô[39m tests/unit/services/ar.service.test.ts[2m > [22mARService[2m > [22mrecordBatchPayment[2m > [22mshould rollback transaction if any allocation fails[32m 1[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m14 passed[39m[22m[90m (14)[39m
[2m   Start at [22m 17:02:51
[2m   Duration [22m 2.07s[2m (transform 205ms, setup 261ms, import 169ms, tests 29ms, environment 1.26s)[22m

