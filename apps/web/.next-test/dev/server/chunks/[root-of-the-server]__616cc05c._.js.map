{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///D:/Users/HI/Documents/GitHub/testTemplateGithub/lib/logger.ts"],"sourcesContent":["/**\r\n * Centralized Logging System\r\n */\r\n\r\nexport enum LogLevel {\r\n  ERROR = 'error',\r\n  WARN = 'warn',\r\n  INFO = 'info',\r\n  DEBUG = 'debug',\r\n}\r\n\r\ninterface LogEntry {\r\n  level: LogLevel;\r\n  message: string;\r\n  timestamp: string;\r\n  context?: any;\r\n  error?: Error;\r\n}\r\n\r\nclass Logger {\r\n  private isDevelopment = process.env.NODE_ENV === 'development';\r\n\r\n  private formatLog(entry: LogEntry): string {\r\n    const { level, message, timestamp, context } = entry;\r\n    let log = `[${timestamp}] [${level.toUpperCase()}] ${message}`;\r\n    \r\n    if (context) {\r\n      log += `\\nContext: ${JSON.stringify(context, null, 2)}`;\r\n    }\r\n    \r\n    if (entry.error) {\r\n      log += `\\nError: ${entry.error.message}\\nStack: ${entry.error.stack}`;\r\n    }\r\n    \r\n    return log;\r\n  }\r\n\r\n  private log(level: LogLevel, message: string, context?: any, error?: Error) {\r\n    const entry: LogEntry = {\r\n      level,\r\n      message,\r\n      timestamp: new Date().toISOString(),\r\n      context,\r\n      error,\r\n    };\r\n\r\n    const formattedLog = this.formatLog(entry);\r\n\r\n    // Console output based on environment\r\n    if (this.isDevelopment) {\r\n      switch (level) {\r\n        case LogLevel.ERROR:\r\n          console.error(formattedLog);\r\n          break;\r\n        case LogLevel.WARN:\r\n          console.warn(formattedLog);\r\n          break;\r\n        case LogLevel.INFO:\r\n          console.info(formattedLog);\r\n          break;\r\n        case LogLevel.DEBUG:\r\n          console.debug(formattedLog);\r\n          break;\r\n      }\r\n    } else {\r\n      // In production, you would send to external logging service\r\n      // e.g., Sentry, DataDog, CloudWatch, etc.\r\n      console.log(JSON.stringify(entry));\r\n    }\r\n  }\r\n\r\n  error(message: string, error?: Error, context?: any) {\r\n    this.log(LogLevel.ERROR, message, context, error);\r\n  }\r\n\r\n  warn(message: string, context?: any) {\r\n    this.log(LogLevel.WARN, message, context);\r\n  }\r\n\r\n  info(message: string, context?: any) {\r\n    this.log(LogLevel.INFO, message, context);\r\n  }\r\n\r\n  debug(message: string, context?: any) {\r\n    if (this.isDevelopment) {\r\n      this.log(LogLevel.DEBUG, message, context);\r\n    }\r\n  }\r\n}\r\n\r\nexport const logger = new Logger();\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;AAEM,IAAA,AAAK,kCAAA;;;;;WAAA;;AAeZ,MAAM;IACI,gBAAgB,oDAAyB,cAAc;IAEvD,UAAU,KAAe,EAAU;QACzC,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG;QAC/C,IAAI,MAAM,CAAC,CAAC,EAAE,UAAU,GAAG,EAAE,MAAM,WAAW,GAAG,EAAE,EAAE,SAAS;QAE9D,IAAI,SAAS;YACX,OAAO,CAAC,WAAW,EAAE,KAAK,SAAS,CAAC,SAAS,MAAM,IAAI;QACzD;QAEA,IAAI,MAAM,KAAK,EAAE;YACf,OAAO,CAAC,SAAS,EAAE,MAAM,KAAK,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,KAAK,CAAC,KAAK,EAAE;QACvE;QAEA,OAAO;IACT;IAEQ,IAAI,KAAe,EAAE,OAAe,EAAE,OAAa,EAAE,KAAa,EAAE;QAC1E,MAAM,QAAkB;YACtB;YACA;YACA,WAAW,IAAI,OAAO,WAAW;YACjC;YACA;QACF;QAEA,MAAM,eAAe,IAAI,CAAC,SAAS,CAAC;QAEpC,sCAAsC;QACtC,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,OAAQ;gBACN;oBACE,QAAQ,KAAK,CAAC;oBACd;gBACF;oBACE,QAAQ,IAAI,CAAC;oBACb;gBACF;oBACE,QAAQ,IAAI,CAAC;oBACb;gBACF;oBACE,QAAQ,KAAK,CAAC;oBACd;YACJ;QACF,OAAO;YACL,4DAA4D;YAC5D,0CAA0C;YAC1C,QAAQ,GAAG,CAAC,KAAK,SAAS,CAAC;QAC7B;IACF;IAEA,MAAM,OAAe,EAAE,KAAa,EAAE,OAAa,EAAE;QACnD,IAAI,CAAC,GAAG,UAAiB,SAAS,SAAS;IAC7C;IAEA,KAAK,OAAe,EAAE,OAAa,EAAE;QACnC,IAAI,CAAC,GAAG,SAAgB,SAAS;IACnC;IAEA,KAAK,OAAe,EAAE,OAAa,EAAE;QACnC,IAAI,CAAC,GAAG,SAAgB,SAAS;IACnC;IAEA,MAAM,OAAe,EAAE,OAAa,EAAE;QACpC,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,GAAG,UAAiB,SAAS;QACpC;IACF;AACF;AAEO,MAAM,SAAS,IAAI"}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["file:///D:/Users/HI/Documents/GitHub/testTemplateGithub/lib/prisma.ts"],"sourcesContent":["import dotenv from 'dotenv';\r\nconst envState = `[${new Date().toISOString()}] NODE_ENV: ${process.env.NODE_ENV}, IS_PLAYWRIGHT: ${process.env.IS_PLAYWRIGHT}`;\r\ntry {\r\n  const fs = require('fs');\r\n  fs.appendFileSync('prisma_debug.log', `${envState}\\n`);\r\n} catch (e) { }\r\n\r\nif (process.env.NODE_ENV === 'test' || process.env.IS_PLAYWRIGHT === 'true') {\r\n  dotenv.config({ path: '.env.test', override: true });\r\n} else if (process.env.NODE_ENV === 'development') {\r\n  // Only load .env.local in development; Vercel provides env vars directly\r\n  dotenv.config({ path: '.env.local' });\r\n}\r\n\r\nconst dbUrlLog = `[${new Date().toISOString()}] DB URL HOST: ${process.env.DATABASE_URL?.split('@')[1]?.split('/')[0] || 'unknown'}`;\r\ntry {\r\n  const fs = require('fs');\r\n  fs.appendFileSync('prisma_debug.log', `${dbUrlLog}\\n\\n`);\r\n} catch (e) { }\r\n\r\nimport { PrismaClient, Prisma } from '@prisma/client';\r\nimport { PrismaPg } from '@prisma/adapter-pg';\r\nimport { Pool } from 'pg';\r\nimport { logger } from './logger';\r\n\r\nexport { Prisma };\r\n\r\n// Prevent multiple instances of Prisma Client in development\r\nconst globalForPrisma = globalThis as unknown as {\r\n  prisma: PrismaClient | undefined;\r\n  pool: Pool | undefined;\r\n};\r\n\r\nconst connectionString = process.env.DATABASE_URL?.includes('localhost')\r\n  ? process.env.DATABASE_URL.replace('localhost', '127.0.0.1')\r\n  : process.env.DATABASE_URL;\r\n\r\nif (!connectionString) {\r\n  logger.error('DATABASE_URL is not defined in lib/prisma.ts');\r\n  console.log('[DEBUG] DATABASE_URL is MISSING');\r\n} else {\r\n  const host = connectionString.split('@')[1]?.split('/')[0] || 'no-host';\r\n  const dbName = connectionString.split('/').pop()?.split('?')[0] || 'no-db';\r\n  logger.info(`Initializing Prisma with Host: ${host}, DB: ${dbName}`);\r\n  console.log(`[DEBUG] Prisma Source: ${process.env.NODE_ENV} | Host: ${host} | URL Length: ${connectionString.length}`);\r\n}\r\n\r\n// Create PostgreSQL connection pool\r\nconst pool = globalForPrisma.pool ?? new Pool({ connectionString });\r\nconst adapter = new PrismaPg(pool);\r\n\r\n// Optimized Prisma Client configuration\r\nconst prismaConfig: any = {\r\n  adapter,\r\n  log: [\r\n    {\r\n      emit: 'event',\r\n      level: 'query',\r\n    },\r\n    {\r\n      emit: 'event',\r\n      level: 'error',\r\n    },\r\n    {\r\n      emit: 'event',\r\n      level: 'warn',\r\n    },\r\n  ],\r\n};\r\n\r\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient(prismaConfig);\r\n\r\n// Log slow queries in development\r\nif (process.env.NODE_ENV === 'development') {\r\n  prisma.$on('query' as never, (e: any) => {\r\n    if (e.duration > 1000) {\r\n      // Log queries taking more than 1 second\r\n      logger.warn('Slow query detected', {\r\n        query: e.query,\r\n        duration: `${e.duration}ms`,\r\n        params: e.params,\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\n// Log errors\r\nprisma.$on('error' as never, (e: any) => {\r\n  logger.error('Prisma error', e instanceof Error ? e : undefined, {\r\n    target: e.target,\r\n    timestamp: e.timestamp,\r\n    message: e.message,\r\n  });\r\n});\r\n\r\n// Log warnings\r\nprisma.$on('warn' as never, (e: any) => {\r\n  logger.warn('Prisma warning', {\r\n    message: e.message,\r\n    timestamp: e.timestamp,\r\n  });\r\n});\r\n\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  globalForPrisma.prisma = prisma;\r\n  if (pool) {\r\n    globalForPrisma.pool = pool;\r\n  }\r\n}\r\n\r\n// Graceful shutdown\r\nprocess.on('beforeExit', async () => {\r\n  await prisma.$disconnect();\r\n  if (pool) {\r\n    await pool.end();\r\n  }\r\n});\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///D:/Users/HI/Documents/GitHub/testTemplateGithub/app/api/dev/seed/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { prisma } from '@/lib/prisma'\r\nimport { randomUUID } from 'crypto'\r\nimport bcrypt from 'bcryptjs'\r\n\r\nexport const dynamic = 'force-dynamic';\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    // Create Roles\r\n    const roles = [\r\n      { name: 'Super Admin', description: 'Full system access', isSystem: true },\r\n      { name: 'Branch Manager', description: 'Manage branch operations', isSystem: true },\r\n      { name: 'Cashier', description: 'Handle POS transactions', isSystem: true },\r\n      { name: 'Warehouse Staff', description: 'Manage inventory', isSystem: true },\r\n      { name: 'Accountant', description: 'Manage finances', isSystem: true },\r\n    ]\r\n\r\n    for (const role of roles) {\r\n      await prisma.role.upsert({\r\n        where: { name: role.name },\r\n        update: { updatedAt: new Date() },\r\n        create: {\r\n          id: randomUUID(),\r\n          ...role,\r\n          updatedAt: new Date(),\r\n        },\r\n      })\r\n    }\r\n\r\n    // Create Admin User\r\n    const superAdminRole = await prisma.role.findUnique({ where: { name: 'Super Admin' } })\r\n    if (superAdminRole) {\r\n      const passwordHash = await bcrypt.hash('Qweasd1234', 12)\r\n      await prisma.user.upsert({\r\n        where: { email: 'cybergada@gmail.com' },\r\n        update: {\r\n          updatedAt: new Date(),\r\n          isSuperMegaAdmin: true,\r\n          passwordHash,\r\n        },\r\n        create: {\r\n          id: randomUUID(),\r\n          email: 'cybergada@gmail.com',\r\n          passwordHash,\r\n          firstName: 'Cyber',\r\n          lastName: 'Gada',\r\n          roleId: superAdminRole.id,\r\n          status: 'ACTIVE',\r\n          emailVerified: true,\r\n          isSuperMegaAdmin: true,\r\n          updatedAt: new Date(),\r\n        },\r\n      })\r\n    }\r\n\r\n    // Create Demo User for testing\r\n    const branchManagerRole = await prisma.role.findUnique({ where: { name: 'Branch Manager' } })\r\n    if (branchManagerRole) {\r\n      const demoPasswordHash = await bcrypt.hash('Password123!', 12)\r\n      await prisma.user.upsert({\r\n        where: { email: 'demo@example.com' },\r\n        update: { updatedAt: new Date() },\r\n        create: {\r\n          id: randomUUID(),\r\n          email: 'demo@example.com',\r\n          passwordHash: demoPasswordHash,\r\n          firstName: 'Demo',\r\n          lastName: 'User',\r\n          roleId: branchManagerRole.id,\r\n          status: 'ACTIVE',\r\n          emailVerified: true,\r\n          updatedAt: new Date(),\r\n        },\r\n      })\r\n    }\r\n\r\n    // Create or update branches\r\n    const branchMain = await prisma.branch.upsert({\r\n      where: { code: 'MNL-001' },\r\n      update: { updatedAt: new Date() },\r\n      create: {\r\n        id: randomUUID(),\r\n        name: 'Manila Main Branch',\r\n        code: 'MNL-001',\r\n        location: '123 Rizal Avenue, Manila',\r\n        manager: 'Juan Dela Cruz',\r\n        phone: '+63 2 1234 5678',\r\n        status: 'active',\r\n        updatedAt: new Date(),\r\n      },\r\n    })\r\n\r\n    const branchQC = await prisma.branch.upsert({\r\n      where: { code: 'QC-001' },\r\n      update: { updatedAt: new Date() },\r\n      create: {\r\n        id: randomUUID(),\r\n        name: 'Quezon City Branch',\r\n        code: 'QC-001',\r\n        location: '456 Commonwealth Avenue, Quezon City',\r\n        manager: 'Maria Santos',\r\n        phone: '+63 2 8765 4321',\r\n        status: 'active',\r\n        updatedAt: new Date(),\r\n      },\r\n    })\r\n\r\n    // Warehouses\r\n    let whManila = await prisma.warehouse.findFirst({ where: { name: 'Manila Central Warehouse', branchId: branchMain.id } })\r\n    if (whManila) {\r\n      whManila = await prisma.warehouse.update({ where: { id: whManila.id }, data: { updatedAt: new Date() } })\r\n    } else {\r\n      whManila = await prisma.warehouse.create({\r\n        data: {\r\n          id: randomUUID(),\r\n          name: 'Manila Central Warehouse',\r\n          location: '789 Port Area, Manila',\r\n          manager: 'Pedro Garcia',\r\n          maxCapacity: 100000,\r\n          branchId: branchMain.id,\r\n          updatedAt: new Date(),\r\n        },\r\n      })\r\n    }\r\n\r\n    let whQC = await prisma.warehouse.findFirst({ where: { name: 'QC Storage Facility', branchId: branchQC.id } })\r\n    if (whQC) {\r\n      whQC = await prisma.warehouse.update({ where: { id: whQC.id }, data: { updatedAt: new Date() } })\r\n    } else {\r\n      whQC = await prisma.warehouse.create({\r\n        data: {\r\n          id: randomUUID(),\r\n          name: 'QC Storage Facility',\r\n          location: '321 Mindanao Avenue, Quezon City',\r\n          manager: 'Ana Reyes',\r\n          maxCapacity: 75000,\r\n          branchId: branchQC.id,\r\n          updatedAt: new Date(),\r\n        },\r\n      })\r\n    }\r\n\r\n    // Supplier\r\n    let supplier = await prisma.supplier.findFirst({ where: { companyName: 'Absolute Beverage Supply' } })\r\n    if (supplier) {\r\n      supplier = await prisma.supplier.update({ where: { id: supplier.id }, data: { status: 'active', updatedAt: new Date() } })\r\n    } else {\r\n      supplier = await prisma.supplier.create({\r\n        data: {\r\n          id: randomUUID(),\r\n          companyName: 'Absolute Beverage Supply',\r\n          contactPerson: 'Carlos D.',\r\n          phone: '+63 917 555 1212',\r\n          email: 'absupply@example.com',\r\n          paymentTerms: 'Net 30',\r\n          status: 'active',\r\n          updatedAt: new Date(),\r\n        },\r\n      })\r\n    }\r\n\r\n    // Product Categories\r\n    const categories = ['Water', 'Carbonated', 'Juice', 'Alcohol']\r\n    for (const catName of categories) {\r\n      const code = catName.toUpperCase().substring(0, 3)\r\n      await prisma.productCategory.upsert({\r\n        where: { name: catName },\r\n        update: { updatedAt: new Date() },\r\n        create: {\r\n          id: randomUUID(),\r\n          name: catName,\r\n          code: code,\r\n          description: `${catName} products`,\r\n          status: 'active',\r\n          updatedAt: new Date(),\r\n        },\r\n      })\r\n    }\r\n\r\n    // Products\r\n    let pWater = await prisma.product.findFirst({ where: { name: 'Absolute 500ml Bottle' } })\r\n    if (pWater) {\r\n      pWater = await prisma.product.update({ where: { id: pWater.id }, data: { updatedAt: new Date() } })\r\n    } else {\r\n      pWater = await prisma.product.create({\r\n        data: {\r\n          id: randomUUID(),\r\n          name: 'Absolute 500ml Bottle',\r\n          description: 'Purified distilled water 500ml',\r\n          category: 'Water',\r\n          baseUOM: 'bottle',\r\n          basePrice: 15,\r\n          minStockLevel: 600,\r\n          shelfLifeDays: 730,\r\n          status: 'active',\r\n          updatedAt: new Date(),\r\n        },\r\n      })\r\n    }\r\n\r\n    let pSoda = await prisma.product.findFirst({ where: { name: 'Soda 12oz Can' } })\r\n    if (pSoda) {\r\n      pSoda = await prisma.product.update({ where: { id: pSoda.id }, data: { updatedAt: new Date() } })\r\n    } else {\r\n      pSoda = await prisma.product.create({\r\n        data: {\r\n          id: randomUUID(),\r\n          name: 'Soda 12oz Can',\r\n          description: 'Carbonated drink 12oz can',\r\n          category: 'Carbonated',\r\n          baseUOM: 'can',\r\n          basePrice: 18,\r\n          minStockLevel: 500,\r\n          shelfLifeDays: 540,\r\n          status: 'active',\r\n          updatedAt: new Date(),\r\n        },\r\n      })\r\n    }\r\n\r\n    // Create or update inventory records\r\n    const now = new Date()\r\n\r\n    await prisma.inventory.upsert({\r\n      where: {\r\n        productId_warehouseId: {\r\n          productId: pWater.id,\r\n          warehouseId: whManila.id,\r\n        },\r\n      },\r\n      update: {\r\n        quantity: 5000,\r\n        updatedAt: now,\r\n      },\r\n      create: {\r\n        id: randomUUID(),\r\n        productId: pWater.id,\r\n        warehouseId: whManila.id,\r\n        quantity: 5000,\r\n        updatedAt: now,\r\n      },\r\n    })\r\n\r\n    await prisma.inventory.upsert({\r\n      where: {\r\n        productId_warehouseId: {\r\n          productId: pWater.id,\r\n          warehouseId: whQC.id,\r\n        },\r\n      },\r\n      update: {\r\n        quantity: 3750,\r\n        updatedAt: now,\r\n      },\r\n      create: {\r\n        id: randomUUID(),\r\n        productId: pWater.id,\r\n        warehouseId: whQC.id,\r\n        quantity: 3750,\r\n        updatedAt: now,\r\n      },\r\n    })\r\n\r\n    await prisma.inventory.upsert({\r\n      where: {\r\n        productId_warehouseId: {\r\n          productId: pSoda.id,\r\n          warehouseId: whManila.id,\r\n        },\r\n      },\r\n      update: {\r\n        quantity: 4000,\r\n        updatedAt: now,\r\n      },\r\n      create: {\r\n        id: randomUUID(),\r\n        productId: pSoda.id,\r\n        warehouseId: whManila.id,\r\n        quantity: 4000,\r\n        updatedAt: now,\r\n      },\r\n    })\r\n\r\n    // Update product average cost prices\r\n    await prisma.product.update({\r\n      where: { id: pWater.id },\r\n      data: { averageCostPrice: 12 },\r\n    })\r\n\r\n    await prisma.product.update({\r\n      where: { id: pSoda.id },\r\n      data: { averageCostPrice: 14 },\r\n    })\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      data: {\r\n        branches: [branchMain, branchQC],\r\n        warehouses: [whManila, whQC],\r\n        supplier,\r\n        products: [pWater, pSoda],\r\n      },\r\n    }, { status: 201 })\r\n  } catch (error: any) {\r\n    return NextResponse.json({ success: false, message: String(error?.message || 'Seed error') }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;AAEO,MAAM,UAAU;AAEhB,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,eAAe;QACf,MAAM,QAAQ;YACZ;gBAAE,MAAM;gBAAe,aAAa;gBAAsB,UAAU;YAAK;YACzE;gBAAE,MAAM;gBAAkB,aAAa;gBAA4B,UAAU;YAAK;YAClF;gBAAE,MAAM;gBAAW,aAAa;gBAA2B,UAAU;YAAK;YAC1E;gBAAE,MAAM;gBAAmB,aAAa;gBAAoB,UAAU;YAAK;YAC3E;gBAAE,MAAM;gBAAc,aAAa;gBAAmB,UAAU;YAAK;SACtE;QAED,KAAK,MAAM,QAAQ,MAAO;YACxB,MAAM,yIAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACvB,OAAO;oBAAE,MAAM,KAAK,IAAI;gBAAC;gBACzB,QAAQ;oBAAE,WAAW,IAAI;gBAAO;gBAChC,QAAQ;oBACN,IAAI,IAAA,mHAAU;oBACd,GAAG,IAAI;oBACP,WAAW,IAAI;gBACjB;YACF;QACF;QAEA,oBAAoB;QACpB,MAAM,iBAAiB,MAAM,yIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE,MAAM;YAAc;QAAE;QACrF,IAAI,gBAAgB;YAClB,MAAM,eAAe,MAAM,8IAAM,CAAC,IAAI,CAAC,cAAc;YACrD,MAAM,yIAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACvB,OAAO;oBAAE,OAAO;gBAAsB;gBACtC,QAAQ;oBACN,WAAW,IAAI;oBACf,kBAAkB;oBAClB;gBACF;gBACA,QAAQ;oBACN,IAAI,IAAA,mHAAU;oBACd,OAAO;oBACP;oBACA,WAAW;oBACX,UAAU;oBACV,QAAQ,eAAe,EAAE;oBACzB,QAAQ;oBACR,eAAe;oBACf,kBAAkB;oBAClB,WAAW,IAAI;gBACjB;YACF;QACF;QAEA,+BAA+B;QAC/B,MAAM,oBAAoB,MAAM,yIAAM,CAAC,IAAI,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE,MAAM;YAAiB;QAAE;QAC3F,IAAI,mBAAmB;YACrB,MAAM,mBAAmB,MAAM,8IAAM,CAAC,IAAI,CAAC,gBAAgB;YAC3D,MAAM,yIAAM,CAAC,IAAI,CAAC,MAAM,CAAC;gBACvB,OAAO;oBAAE,OAAO;gBAAmB;gBACnC,QAAQ;oBAAE,WAAW,IAAI;gBAAO;gBAChC,QAAQ;oBACN,IAAI,IAAA,mHAAU;oBACd,OAAO;oBACP,cAAc;oBACd,WAAW;oBACX,UAAU;oBACV,QAAQ,kBAAkB,EAAE;oBAC5B,QAAQ;oBACR,eAAe;oBACf,WAAW,IAAI;gBACjB;YACF;QACF;QAEA,4BAA4B;QAC5B,MAAM,aAAa,MAAM,yIAAM,CAAC,MAAM,CAAC,MAAM,CAAC;YAC5C,OAAO;gBAAE,MAAM;YAAU;YACzB,QAAQ;gBAAE,WAAW,IAAI;YAAO;YAChC,QAAQ;gBACN,IAAI,IAAA,mHAAU;gBACd,MAAM;gBACN,MAAM;gBACN,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,QAAQ;gBACR,WAAW,IAAI;YACjB;QACF;QAEA,MAAM,WAAW,MAAM,yIAAM,CAAC,MAAM,CAAC,MAAM,CAAC;YAC1C,OAAO;gBAAE,MAAM;YAAS;YACxB,QAAQ;gBAAE,WAAW,IAAI;YAAO;YAChC,QAAQ;gBACN,IAAI,IAAA,mHAAU;gBACd,MAAM;gBACN,MAAM;gBACN,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,QAAQ;gBACR,WAAW,IAAI;YACjB;QACF;QAEA,aAAa;QACb,IAAI,WAAW,MAAM,yIAAM,CAAC,SAAS,CAAC,SAAS,CAAC;YAAE,OAAO;gBAAE,MAAM;gBAA4B,UAAU,WAAW,EAAE;YAAC;QAAE;QACvH,IAAI,UAAU;YACZ,WAAW,MAAM,yIAAM,CAAC,SAAS,CAAC,MAAM,CAAC;gBAAE,OAAO;oBAAE,IAAI,SAAS,EAAE;gBAAC;gBAAG,MAAM;oBAAE,WAAW,IAAI;gBAAO;YAAE;QACzG,OAAO;YACL,WAAW,MAAM,yIAAM,CAAC,SAAS,CAAC,MAAM,CAAC;gBACvC,MAAM;oBACJ,IAAI,IAAA,mHAAU;oBACd,MAAM;oBACN,UAAU;oBACV,SAAS;oBACT,aAAa;oBACb,UAAU,WAAW,EAAE;oBACvB,WAAW,IAAI;gBACjB;YACF;QACF;QAEA,IAAI,OAAO,MAAM,yIAAM,CAAC,SAAS,CAAC,SAAS,CAAC;YAAE,OAAO;gBAAE,MAAM;gBAAuB,UAAU,SAAS,EAAE;YAAC;QAAE;QAC5G,IAAI,MAAM;YACR,OAAO,MAAM,yIAAM,CAAC,SAAS,CAAC,MAAM,CAAC;gBAAE,OAAO;oBAAE,IAAI,KAAK,EAAE;gBAAC;gBAAG,MAAM;oBAAE,WAAW,IAAI;gBAAO;YAAE;QACjG,OAAO;YACL,OAAO,MAAM,yIAAM,CAAC,SAAS,CAAC,MAAM,CAAC;gBACnC,MAAM;oBACJ,IAAI,IAAA,mHAAU;oBACd,MAAM;oBACN,UAAU;oBACV,SAAS;oBACT,aAAa;oBACb,UAAU,SAAS,EAAE;oBACrB,WAAW,IAAI;gBACjB;YACF;QACF;QAEA,WAAW;QACX,IAAI,WAAW,MAAM,yIAAM,CAAC,QAAQ,CAAC,SAAS,CAAC;YAAE,OAAO;gBAAE,aAAa;YAA2B;QAAE;QACpG,IAAI,UAAU;YACZ,WAAW,MAAM,yIAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;gBAAE,OAAO;oBAAE,IAAI,SAAS,EAAE;gBAAC;gBAAG,MAAM;oBAAE,QAAQ;oBAAU,WAAW,IAAI;gBAAO;YAAE;QAC1H,OAAO;YACL,WAAW,MAAM,yIAAM,CAAC,QAAQ,CAAC,MAAM,CAAC;gBACtC,MAAM;oBACJ,IAAI,IAAA,mHAAU;oBACd,aAAa;oBACb,eAAe;oBACf,OAAO;oBACP,OAAO;oBACP,cAAc;oBACd,QAAQ;oBACR,WAAW,IAAI;gBACjB;YACF;QACF;QAEA,qBAAqB;QACrB,MAAM,aAAa;YAAC;YAAS;YAAc;YAAS;SAAU;QAC9D,KAAK,MAAM,WAAW,WAAY;YAChC,MAAM,OAAO,QAAQ,WAAW,GAAG,SAAS,CAAC,GAAG;YAChD,MAAM,yIAAM,CAAC,eAAe,CAAC,MAAM,CAAC;gBAClC,OAAO;oBAAE,MAAM;gBAAQ;gBACvB,QAAQ;oBAAE,WAAW,IAAI;gBAAO;gBAChC,QAAQ;oBACN,IAAI,IAAA,mHAAU;oBACd,MAAM;oBACN,MAAM;oBACN,aAAa,GAAG,QAAQ,SAAS,CAAC;oBAClC,QAAQ;oBACR,WAAW,IAAI;gBACjB;YACF;QACF;QAEA,WAAW;QACX,IAAI,SAAS,MAAM,yIAAM,CAAC,OAAO,CAAC,SAAS,CAAC;YAAE,OAAO;gBAAE,MAAM;YAAwB;QAAE;QACvF,IAAI,QAAQ;YACV,SAAS,MAAM,yIAAM,CAAC,OAAO,CAAC,MAAM,CAAC;gBAAE,OAAO;oBAAE,IAAI,OAAO,EAAE;gBAAC;gBAAG,MAAM;oBAAE,WAAW,IAAI;gBAAO;YAAE;QACnG,OAAO;YACL,SAAS,MAAM,yIAAM,CAAC,OAAO,CAAC,MAAM,CAAC;gBACnC,MAAM;oBACJ,IAAI,IAAA,mHAAU;oBACd,MAAM;oBACN,aAAa;oBACb,UAAU;oBACV,SAAS;oBACT,WAAW;oBACX,eAAe;oBACf,eAAe;oBACf,QAAQ;oBACR,WAAW,IAAI;gBACjB;YACF;QACF;QAEA,IAAI,QAAQ,MAAM,yIAAM,CAAC,OAAO,CAAC,SAAS,CAAC;YAAE,OAAO;gBAAE,MAAM;YAAgB;QAAE;QAC9E,IAAI,OAAO;YACT,QAAQ,MAAM,yIAAM,CAAC,OAAO,CAAC,MAAM,CAAC;gBAAE,OAAO;oBAAE,IAAI,MAAM,EAAE;gBAAC;gBAAG,MAAM;oBAAE,WAAW,IAAI;gBAAO;YAAE;QACjG,OAAO;YACL,QAAQ,MAAM,yIAAM,CAAC,OAAO,CAAC,MAAM,CAAC;gBAClC,MAAM;oBACJ,IAAI,IAAA,mHAAU;oBACd,MAAM;oBACN,aAAa;oBACb,UAAU;oBACV,SAAS;oBACT,WAAW;oBACX,eAAe;oBACf,eAAe;oBACf,QAAQ;oBACR,WAAW,IAAI;gBACjB;YACF;QACF;QAEA,qCAAqC;QACrC,MAAM,MAAM,IAAI;QAEhB,MAAM,yIAAM,CAAC,SAAS,CAAC,MAAM,CAAC;YAC5B,OAAO;gBACL,uBAAuB;oBACrB,WAAW,OAAO,EAAE;oBACpB,aAAa,SAAS,EAAE;gBAC1B;YACF;YACA,QAAQ;gBACN,UAAU;gBACV,WAAW;YACb;YACA,QAAQ;gBACN,IAAI,IAAA,mHAAU;gBACd,WAAW,OAAO,EAAE;gBACpB,aAAa,SAAS,EAAE;gBACxB,UAAU;gBACV,WAAW;YACb;QACF;QAEA,MAAM,yIAAM,CAAC,SAAS,CAAC,MAAM,CAAC;YAC5B,OAAO;gBACL,uBAAuB;oBACrB,WAAW,OAAO,EAAE;oBACpB,aAAa,KAAK,EAAE;gBACtB;YACF;YACA,QAAQ;gBACN,UAAU;gBACV,WAAW;YACb;YACA,QAAQ;gBACN,IAAI,IAAA,mHAAU;gBACd,WAAW,OAAO,EAAE;gBACpB,aAAa,KAAK,EAAE;gBACpB,UAAU;gBACV,WAAW;YACb;QACF;QAEA,MAAM,yIAAM,CAAC,SAAS,CAAC,MAAM,CAAC;YAC5B,OAAO;gBACL,uBAAuB;oBACrB,WAAW,MAAM,EAAE;oBACnB,aAAa,SAAS,EAAE;gBAC1B;YACF;YACA,QAAQ;gBACN,UAAU;gBACV,WAAW;YACb;YACA,QAAQ;gBACN,IAAI,IAAA,mHAAU;gBACd,WAAW,MAAM,EAAE;gBACnB,aAAa,SAAS,EAAE;gBACxB,UAAU;gBACV,WAAW;YACb;QACF;QAEA,qCAAqC;QACrC,MAAM,yIAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YAC1B,OAAO;gBAAE,IAAI,OAAO,EAAE;YAAC;YACvB,MAAM;gBAAE,kBAAkB;YAAG;QAC/B;QAEA,MAAM,yIAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YAC1B,OAAO;gBAAE,IAAI,MAAM,EAAE;YAAC;YACtB,MAAM;gBAAE,kBAAkB;YAAG;QAC/B;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,MAAM;gBACJ,UAAU;oBAAC;oBAAY;iBAAS;gBAChC,YAAY;oBAAC;oBAAU;iBAAK;gBAC5B;gBACA,UAAU;oBAAC;oBAAQ;iBAAM;YAC3B;QACF,GAAG;YAAE,QAAQ;QAAI;IACnB,EAAE,OAAO,OAAY;QACnB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAO,SAAS,OAAO,OAAO,WAAW;QAAc,GAAG;YAAE,QAAQ;QAAI;IAC9G;AACF"}}]
}